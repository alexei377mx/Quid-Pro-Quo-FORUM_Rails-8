<%= form_with(model: post, html: { class: "box" }) do |form| %>
  <div class="field">
    <%= form.label :title, class: "label" do %>
      <span class="icon-text">
        <span class="icon">
          <i class="fas fa-heading"></i>
        </span>
        <span>Título</span>
      </span>
    <% end %>
    <div class="control has-icons-left">
      <%= form.text_field :title, class: "input #{'is-danger' if post.errors[:title].any?}", placeholder: "Título del post (mínimo 5 caracteres)" %>
      <span class="icon is-small is-left">
        <i class="fas fa-pen"></i>
      </span>
    </div>
    <% if post.errors[:title].any? %>
      <p class="help is-danger">
        <span class="icon-text">
          <span class="icon">
            <i class="fas fa-exclamation-circle"></i>
          </span>
          <span><%= post.errors[:title].join(', ') %></span>
        </span>
      </p>
    <% end %>
  </div>

  <div class="field">
    <%= form.label :content, class: "label" do %>
      <span class="icon-text">
        <span class="icon">
          <i class="fas fa-align-left"></i>
        </span>
        <span>Contenido</span>
      </span>
    <% end %>
    <div class="control">
      <%= form.text_area :content, rows: 10, class: "textarea #{'is-danger' if post.errors[:content].any?}", placeholder: "Escribe el contenido detallado del post..." %>
    </div>
    <% if post.errors[:content].any? %>
      <p class="help is-danger">
        <span class="icon-text">
          <span class="icon">
            <i class="fas fa-exclamation-circle"></i>
          </span>
          <span><%= post.errors[:content].join(', ') %></span>
        </span>
      </p>
    <% end %>
  </div>

  <div class="field is-grouped">
    <div class="control">
      <%= form.submit "Guardar Post", class: "button is-primary is-medium" do %>
        <span class="icon">
          <i class="fas fa-save"></i>
        </span>
        <span>Guardar</span>
      <% end %>
    </div>
    <% cancel_path = @post&.persisted? ? post_path(@post) : posts_path %>
    <div class="control">
      <%= link_to cancel_path, class: "button is-light is-medium" do %>
        <span class="icon">
          <i class="fas fa-times"></i>
        </span>
        <span>Cancelar</span>
      <% end %>
    </div>
  </div>
<% end %>