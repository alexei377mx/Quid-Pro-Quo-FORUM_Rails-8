<section class="section">
  <div class="container">
    <h1 class="title"><%= t("contact_messages.new.title") %></h1>
    <p class="subtitle"><%= t("contact_messages.new.subtitle") %></p>

    <%= form_with model: @contact_message, local: true do |form| %>
      <div class="field">
        <%= form.label :name, t("contact_messages.new.name"), class: "label" %>
        <div class="control has-icons-left">
          <%= form.text_field :name, class: "input #{'is-danger' if @contact_message.errors[:name].any?}", required: true, placeholder: t("contact_messages.new.name_placeholder") %>
          <span class="icon is-small is-left"><i class="fa-solid fa-user"></i></span>
        </div>
        <% if @contact_message.errors[:name].any? %>
          <small class="help is-danger"><%= @contact_message.errors[:name].join(', ') %></small>
        <% end %>
      </div>

      <div class="field">
        <%= form.label :email, t("contact_messages.new.email"), class: "label" %>
        <div class="control has-icons-left">
          <%= form.email_field :email, class: "input #{'is-danger' if @contact_message.errors[:email].any?}", required: true, placeholder: t("contact_messages.new.email_placeholder") %>
          <span class="icon is-small is-left"><i class="fa-solid fa-envelope"></i></span>
        </div>
        <% if @contact_message.errors[:email].any? %>
          <small class="help is-danger"><%= @contact_message.errors[:email].join(', ') %></small>
        <% end %>
      </div>

      <div class="field">
        <%= form.label :subject, t("contact_messages.new.subject"), class: "label" %>
        <div class="control has-icons-left">
          <%= form.text_field :subject, class: "input #{'is-danger' if @contact_message.errors[:subject].any?}", required: true, placeholder: t("contact_messages.new.subject_placeholder") %>
          <span class="icon is-small is-left"><i class="fa-solid fa-tag"></i></span>
        </div>
        <% if @contact_message.errors[:subject].any? %>
          <small class="help is-danger"><%= @contact_message.errors[:subject].join(', ') %></small>
        <% end %>
      </div>

      <div class="field">
        <%= form.label :message, t("contact_messages.new.message"), class: "label" %>
        <div class="control has-icons-left">
          <%= form.text_area :message, class: "textarea #{'is-danger' if @contact_message.errors[:message].any?}", required: true, placeholder: t("contact_messages.new.message_placeholder") %>
        </div>
        <% if @contact_message.errors[:message].any? %>
          <small class="help is-danger"><%= @contact_message.errors[:message].join(', ') %></small>
        <% end %>
      </div>

      <div class="field is-grouped">
        <div class="control">
          <button class="button is-link">
            <span class="icon"><i class="fa-solid fa-paper-plane"></i></span>
            <span><%= t("contact_messages.new.send") %></span>
          </button>
        </div>
        <div class="control">
          <%= link_to t("contact_messages.new.cancel"), root_path, class: "button is-light" %>
        </div>
      </div>
    <% end %>
  </div>
</section>
